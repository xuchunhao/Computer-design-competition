(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2d4ffc0"],{3565:function(t,e,i){},3967:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"basic-info"},[i("div",{staticClass:"container info-content"},[i("porotrait"),i("div",{staticClass:"info-fans clearfix"},[i("div",{staticClass:"info-fans-list"},[i("p",[t._v("关注")]),i("p",[t._v(t._s(t.userinfo.concernsNum))])]),i("div",{staticClass:"info-fans-list"},[i("p",[t._v("粉丝")]),i("p",[t._v(t._s(t.userinfo.fansNum))])]),i("div",{staticClass:"info-fans-list"},[i("p",[t._v("获赞")]),i("p",[t._v(t._s(t.userinfo.likesNum))])])]),i("div",{staticClass:"info-box"},[i("div",{staticClass:"info-list"},[t._v(" 账号： "),i("el-input",{model:{value:t.userinfo.phone,callback:function(e){t.$set(t.userinfo,"phone",e)},expression:"userinfo.phone"}})],1),i("div",{staticClass:"info-list"},[t._v(" 姓名： "),i("el-input",{model:{value:t.userinfo.name,callback:function(e){t.$set(t.userinfo,"name",e)},expression:"userinfo.name"}})],1),i("div",{staticClass:"info-list"},[t._v(" 昵称： "),i("el-input",{model:{value:t.userinfo.nickname,callback:function(e){t.$set(t.userinfo,"nickname",e)},expression:"userinfo.nickname"}})],1),i("el-button",{on:{click:t.changeinfo}},[t._v("修改信息")])],1)],1)])},a=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"footerBtn"},[i("img",{staticClass:"btn-edit",attrs:{src:t.img,icon:"el-icon-edit"},on:{click:function(e){t.dialogVisible=!0}}}),t.attach.laterUrl?i("img",{staticClass:"preview",staticStyle:{width:"200px",height:"200px"},attrs:{src:t.attach.laterUrl}}):t._e(),i("el-dialog",{attrs:{title:"编辑头像",visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("span",[i("el-row",[i("input",{staticClass:"el-button",staticStyle:{"margin-bottom":"15px"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:function(e){return t.uploadImg(e,1)}}})]),i("el-row",[i("el-col",{attrs:{span:16}},[i("vueCropper",{ref:"cropper",staticStyle:{width:"100%",height:"300px"},attrs:{img:t.attach.customaryUrl,autoCrop:t.options.autoCrop,fixedBox:t.options.fixedBox,canMoveBox:t.options.canMoveBox,autoCropWidth:t.options.autoCropWidth,autoCropHeight:t.options.autoCropHeight,centerBox:t.options.centerBox,fixed:t.options.fixed},on:{realTime:t.realTime}})],1),i("el-col",{attrs:{span:8}},[i("h2",{attrs:{align:"center"}},[t._v("头像预览")]),i("div",{staticClass:"show-preview"},[i("div",{staticClass:"preview",style:t.previews.div},[i("img",{style:t.previews.img,attrs:{src:t.previews.url}})])])])],1),i("el-row",{staticClass:"footerBtn",attrs:{align:"center"}},[i("el-button",{staticClass:"btn-content",attrs:{type:"primary",size:"small",round:""},on:{click:function(e){return t.cut("blob")}}},[t._v("确认")]),i("el-button",{staticClass:"btn-content",attrs:{type:"primary",size:"small",round:""},on:{click:t.handleClose}},[t._v("取消")])],1)],1)])],1)},o=[],r=i("7e79"),l={components:{VueCropper:r["VueCropper"]},data(){return{img:i("d8d7"),dialogVisible:!1,options:{autoCrop:!0,fixedBox:!1,canMoveBox:!0,autoCropWidth:200,autoCropHeight:200,centerBox:!1,fixed:!0},previews:{},attach:{id:"",userId:"",customaryUrl:"",laterUrl:"",attachType:"photo"},fileName:"",uploadImgRelaPath:""}},methods:{handleClose(){this.dialogVisible=!1},realTime(t){this.previews=t},find(){this.userId=sessionStorage.getItem("userId"),this.$axios.post("/api/attach/find",this.attach).then(t=>{})},uploadImg(t,e){var i=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return this.$message.error("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var s=new FileReader;s.readAsDataURL(i),s.onload=t=>{let e=t.target.result;this.attach.customaryUrl=e}},cut(t){this.$refs.cropper.getCropData(t=>{})}}},c=l,p=(i("ad29"),i("2877")),u=Object(p["a"])(c,n,o,!1,null,"822a1292",null),f=u.exports,d=(i("3565"),{components:{porotrait:f},data(){return{userinfo:{user:"作者1",img:i("d8d7"),concernsNum:321,fansNum:456,likesNum:789,phone:123456,name:123,nickname:123}}},methods:{changeinfo(){let t={phone:this.userinfo.phone,name:this.userinfo.name,nickname:this.userinfo.nickname};userinfo.phone=t.phone,userinfo.name=t.name,userinfo.nickname=t.nickname}}}),m=d,h=Object(p["a"])(m,s,a,!1,null,null,null);e["default"]=h.exports},"696f":function(t,e,i){},ad29:function(t,e,i){"use strict";var s=i("696f"),a=i.n(s);a.a},d8d7:function(t,e,i){t.exports=i.p+"img/test.ecdbc70c.jpg"}}]);