(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c41bb4a"],{"1e79":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footerBtn"},[t.attach.laterUrl?a("img",{staticClass:"preview",staticStyle:{width:"200px",height:"200px"},attrs:{src:t.attach.laterUrl}}):t._e(),a("el-button",{staticClass:"btn-edit",attrs:{icon:"el-icon-edit"},on:{click:function(e){t.dialogVisible=!0}}}),a("el-dialog",{attrs:{title:"编辑头像",visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[a("el-row",[a("input",{staticClass:"el-button",staticStyle:{"margin-bottom":"15px"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:function(e){return t.uploadImg(e,1)}}})]),a("el-row",[a("el-col",{attrs:{span:16}},[a("vueCropper",{ref:"cropper",staticStyle:{width:"100%",height:"300px"},attrs:{img:t.attach.customaryUrl,autoCrop:t.options.autoCrop,fixedBox:t.options.fixedBox,canMoveBox:t.options.canMoveBox,autoCropWidth:t.options.autoCropWidth,autoCropHeight:t.options.autoCropHeight,centerBox:t.options.centerBox,fixed:t.options.fixed},on:{realTime:t.realTime}})],1),a("el-col",{attrs:{span:8}},[a("h2",{attrs:{align:"center"}},[t._v("头像预览")]),a("div",{staticClass:"show-preview"},[a("div",{staticClass:"preview",style:t.previews.div},[a("img",{style:t.previews.img,attrs:{src:t.previews.url}})])])])],1),a("el-row",{staticClass:"footerBtn",attrs:{align:"center"}},[a("el-button",{staticClass:"btn-content",attrs:{type:"primary",size:"small",round:""},on:{click:function(e){return t.cut("blob")}}},[t._v("确认")]),a("el-button",{staticClass:"btn-content",attrs:{type:"primary",size:"small",round:""},on:{click:t.handleClose}},[t._v("取消")])],1)],1)])],1)},o=[],s=a("7e79"),r={components:{VueCropper:s["VueCropper"]},data(){return{dialogVisible:!1,options:{autoCrop:!0,fixedBox:!1,canMoveBox:!0,autoCropWidth:200,autoCropHeight:200,centerBox:!1,fixed:!0},previews:{},attach:{id:"",userId:"",customaryUrl:"",laterUrl:"",attachType:"photo"},fileName:"",uploadImgRelaPath:""}},methods:{handleClose(){this.dialogVisible=!1},realTime(t){this.previews=t},find(){this.userId=sessionStorage.getItem("userId"),this.$axios.post("/api/attach/find",this.attach).then(t=>{})},uploadImg(t,e){var a=t.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return this.$message.error("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var i=new FileReader;i.readAsDataURL(a),i.onload=t=>{let e=t.target.result;this.attach.customaryUrl=e}},cut(t){this.$refs.cropper.getCropData(t=>{})}}},l=r,n=(a("cddf"),a("2877")),p=Object(n["a"])(l,i,o,!1,null,"f7cbea52",null);e["default"]=p.exports},cddf:function(t,e,a){"use strict";var i=a("d780"),o=a.n(i);o.a},d780:function(t,e,a){}}]);