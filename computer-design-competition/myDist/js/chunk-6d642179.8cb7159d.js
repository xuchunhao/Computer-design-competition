(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d642179"],{acfb:function(t,e,a){},e77f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"container"},[a("div",{staticClass:"input-content"},[a("div",{staticClass:"input-box"},[t._v(" 个人技能： "),a("el-input",{model:{value:t.specialty,callback:function(e){t.specialty=e},expression:"specialty"}})],1),a("div",{staticClass:"input-box"},[t._v(" 用户名： "),a("el-input",{model:{value:t.msgAuthorName,callback:function(e){t.msgAuthorName=e},expression:"msgAuthorName"}})],1),a("el-button",{attrs:{icon:"el-icon-search"},on:{click:t.search}},[t._v("搜索")])],1),a("div",{staticClass:"input-content"},[a("div",{staticClass:"input-box"},[t._v(" 队伍id： "),a("el-input",{model:{value:t.teamid,callback:function(e){t.teamid=e},expression:"teamid"}})],1)]),a("table",[t._m(0),a("tbody",t._l(t.endArray,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.msgAuthorName))]),a("td",[a("img",{attrs:{src:e.img,alt:""}})]),a("td",[t._v(t._s(e.specialty))]),a("td",[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.invite(e.msgid)}}},[t._v("邀请")]),a("el-button",{attrs:{type:"success"},on:{click:function(a){return t.message(e.msgid)}}},[t._v("私信")])],1)])})),0),a("el-pagination",{attrs:{layout:"prev, pager, next",total:10*t.total},on:{"current-change":t.paging}})],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("用户名")]),a("th",[t._v("头像")]),a("th",[t._v("个人技能")]),a("th",[t._v("操作")])])])}],n=(a("acfb"),a("365c")),r={data(){return{specialty:"",teamid:"",msgAuthorName:"",personArray:[],tempArray:[],endArray:[]}},computed:{total(){return this.tempArray.length/8}},methods:{paging(t){let e=8;this.endArray=this.tempArray.slice((t-1)*e,t*e)},search(){var t=this;this.tempArray=this.personArray.filter((function(e){return void 0!=e.specialty&&e.specialty.indexOf(t.specialty)>-1&&e.msgAuthorName.indexOf(t.msgAuthorName)>-1})),this.paging(1)},invite(t){let e=localStorage.getItem("token");n["a"].invite({type:"invite",data:{team_id:this.teamid,inviter_id:t,invited_id:e}}).then(t=>{0==t.data.status&&this.$router.push({name:"Message",params:{messageKind:"snotice"}})})},message(t){let e=localStorage.getItem("token");n["a"].sendmsg({type:"msg",data:{sender_id:e,recever_id:t,content:"",title:""}}).then(t=>{0==t.data.status&&this.$router.push({name:"Message",params:{messageKind:"privateMessage"}})})}},created(){n["a"].usersearch({type:"user",data:{content:""}}).then(t=>{let e=t.data.map((function(t,e,a){let i={};return i.msgid=t,n["a"].infoSearch({type:"user_info",data:{user_id:t}}).then(t=>{i.msgAuthorName=t.data.data.nick_name}),n["a"].loadimg({type:"img",data:{user_id:t}}).then(t=>{i.img=t.data.data.base64}),n["a"].getaddinfo({type:"info",data:{user_id:t}}).then(t=>{let e=t.data.data.info_list;i.specialty=e.specialty}),i}));var a=this;setTimeout((function(){a.personArray=e,a.tempArray=a.personArray,a.paging(1)}),800)}),this.paging(1)}},c=r,o=a("2877"),l=Object(o["a"])(c,i,s,!1,null,null,null);e["default"]=l.exports}}]);